<Page x:Class="MikoMe.Views.LanguageSessionPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:vm="using:MikoMe.ViewModels">

    <Page.DataContext>
        <vm:SessionViewModel />
    </Page.DataContext>

    <Grid RowDefinitions="80,140,*">

        <!-- 1. Header (fixed, beige background like Browse) -->
        <Grid Grid.Row="0" Background="#FAEAD1">
            <TextBlock Text="Language Practice"
                       FontSize="28"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       Foreground="Black"/>
        </Grid>

        <!-- 2. Progress clock panel -->
        <Grid Grid.Row="1" Background="#FAEAD1">
            <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                <Grid Width="120" Height="120">
                    <Ellipse Stroke="#222" StrokeThickness="6"/>
                    <Path x:Name="ProgressArc" Stroke="#222" StrokeThickness="6"/>
                    <TextBlock x:Name="RingText"
                               Text="{Binding ProgressText}"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"
                               FontSize="24"
                               Foreground="Black"/>
                </Grid>
            </Grid>
        </Grid>

        <!-- 3. Scrollable content (panels 2â€“7 from before) -->
        <ScrollViewer Grid.Row="2"
                      VerticalScrollBarVisibility="Auto">
            <StackPanel>

                <!-- Language 1 -->
                <Grid Background="#FFD475" Padding="20">
                    <TextBlock Text="{Binding PromptBig, FallbackValue='æ¼¢å­—'}"
                               FontSize="52"
                               FontWeight="SemiBold"
                               TextWrapping="Wrap"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"
                               Foreground="Black"/>
                </Grid>

                <!-- Language 2 -->
                <Grid Background="#FFD475" Padding="20">
                    <TextBlock Text="{Binding PromptSmall, FallbackValue='pÄ«nyÄ«n'}"
                               FontSize="26"
                               TextWrapping="Wrap"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"
                               Foreground="Black"/>
                </Grid>

                <!-- Speaker -->
                <Grid Background="White" Height="80">
                    <Button Content="ðŸ”Š"
                            Width="60" Height="60"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Command="{Binding SpeakCommand}"/>
                </Grid>

                <!-- Language 3 -->
                <Grid Background="White" Padding="20">
                    <TextBlock Text="{Binding AnswerText, FallbackValue='English'}"
                               FontSize="26"
                               TextWrapping="Wrap"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"
                               Foreground="Black"/>
                </Grid>

                <!-- Reveal -->
                <Grid Background="White" Height="120">
                    <Button x:Name="RevealButton"
                            Content="Reveal"
                            Width="220" Height="70"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"/>
                </Grid>

                <!-- Action buttons -->
                <Grid Background="White" Height="100">
                    <StackPanel Orientation="Horizontal"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Spacing="20">
                        <Button Content="âœ… I Know"
                                Width="160" Height="80"
                                Command="{Binding PassCommand}"/>
                        <Button Content="âŒ I Donâ€™t Know"
                                Width="160" Height="80"
                                Command="{Binding FailCommand}"/>
                    </StackPanel>
                </Grid>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</Page>
